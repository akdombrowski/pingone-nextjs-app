(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6509:function(e,t,r){Promise.resolve().then(r.bind(r,2046))},2046:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(9268),o=r(6394),i=r.n(o),a=r(3956),s=r.n(a),c=r(6006);let d="https://auth.pingone.com/",l="333d66b5-d2f0-48d0-8ec0-cf4cafd35d25",h="7cbbc92e-97d7-4f72-97e8-28173f76b8ba",p="http://localhost:3000",g="application/x-www-form-urlencoded";function _(){let[e,t]=(0,c.useState)(""),[r,o]=(0,c.useState)(""),a=d+l+"/as/authorize?client_id="+h+"&redirect_uri="+encodeURIComponent(p)+"&scope=openid&response_type=code",_=d+l+"/as/token";return(0,c.useEffect)(()=>{let e=async e=>{if(!e)throw Error("Missing authorization code.");let r=new URLSearchParams;r.append("client_id",h),r.append("redirect_uri",p),r.append("grant_type","authorization_code"),r.append("code",e);let n=new Headers;n.append("Content-Type",g);try{let e=await fetch(_,{method:"POST",headers:{"Content-Type":g},body:r}),n=await e.json(),i=n||null,a=null==i?void 0:i.access_token,s=null==i?void 0:i.id_token;if(!i)throw Error("No access token.\nresponse:\n"+JSON.stringify(n));return a&&t(a),s&&o(s),i}catch(t){let e="failed to fetch tokens";throw console.error(e),console.error(t),Error(e,{cause:t})}},r=document.referrer,n=document.URL,i=new URL(n),a=i.searchParams;if(r&&!a.get("code")){let t=new URL(r),n=t.searchParams,o=null==n?void 0:n.get("code");if(o)try{e(o)}catch(e){throw console.error(e),Error("Problem getting token(s)",{cause:e})}}}),(0,c.useEffect)(()=>{let e=document.URL,t=new URL(e),r=t.searchParams;if(r){let e=r.get("code");if(e)try{t.search="",window.location.replace(t)}catch(e){throw console.error(e),Error("Problem getting token(s)",{cause:e})}}}),(0,n.jsxs)("main",{className:s().main,children:[(0,n.jsxs)("div",{className:s().description,children:[(0,n.jsx)("p",{children:"Get started with PingOne and NextJS"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{paddingBottom:"1vh"},children:"By"}),(0,n.jsx)("a",{href:"https://apidocs.pingidentity.com/pingone/main/v1/api/#getting-started-with-the-pingone-apis",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(i(),{src:"/Ping-Logo.svg",alt:"Ping Identity Logo",className:s().pingLogo,width:100,height:100,priority:!0})})]})]}),(0,n.jsx)("div",{className:s().center,children:(0,n.jsx)(i(),{className:s().logo,src:"/PingOne.svg",alt:"PingOne Logo",width:620,height:112,priority:!0})}),(0,n.jsx)("div",{style:{borderColor:"white",borderStyle:"solid",borderWidth:3,padding:".5rem"},children:(0,n.jsx)("a",{href:a,target:"_self",children:(0,n.jsx)("h1",{children:"Login"})})}),(0,n.jsx)("div",{style:{height:"10rem",marginTop:"1rem",marginBottom:"1rem"},children:e?(0,n.jsxs)("p",{style:{fontSize:"0.75rem",wordBreak:"break-all",height:"100%",overflow:"auto"},children:["access token: ",(0,n.jsx)("br",{}),e]}):(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)("div",{style:{height:"10rem",marginTop:"1rem",marginBottom:"2rem",fontSize:".75rem"},children:r?(0,n.jsxs)("p",{style:{fontSize:"0.75rem",wordBreak:"break-all",height:"100%",overflow:"auto"},children:["id token: ",(0,n.jsx)("br",{}),r]}):(0,n.jsxs)("p",{children:["Click on ",(0,n.jsx)("strong",{children:"Login"})," to retrieve tokens"]})})]})}},3956:function(e){e.exports={main:"page_main__ibFHK",description:"page_description__s_Lqk",code:"page_code__Cdcue",grid:"page_grid__2WZXq",card:"page_card__ftWzl",center:"page_center__GvJ9Y",logo:"page_logo__M5piD",content:"page_content__rFejU",rotate:"page_rotate__P15uU"}}},function(e){e.O(0,[656,253,769,744],function(){return e(e.s=6509)}),_N_E=e.O()}]);